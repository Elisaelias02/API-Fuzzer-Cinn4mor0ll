# Definición de objetivos a testear
targets:
  - name: "crAPI - Vulnerable API"
    base_url: "http://localhost:8888"
    enabled: true
    
    # Usuarios de prueba
    users:
      - name: "elisa"
        id: "101"
        token: "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        role: "user"
      
      - name: "sky"
        id: "102"
        token: "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        role: "user"
      
      - name: "admin"
        id: "1"
        token: "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        role: "admin"
    
    # Endpoints a testear
    endpoints:
      # Endpoints con IDs (para BOLA)
      - path: "/api/v1/users/{id}/profile"
        methods: ["GET"]
        auth_required: true
        test_modules: ["bola_detector"]
      
      - path: "/api/v1/orders/{id}"
        methods: ["GET", "PUT", "DELETE"]
        auth_required: true
        test_modules: ["bola_detector", "data_exposure_detector"]
      
      - path: "/api/v1/invoices/{id}"
        methods: ["GET"]
        auth_required: true
        test_modules: ["bola_detector"]
      
      # Endpoints de autenticación (para Auth testing)
      - path: "/api/v1/auth/login"
        methods: ["POST"]
        auth_required: false
        test_modules: ["auth_detector"]
      
      - path: "/api/v1/auth/register"
        methods: ["POST"]
        auth_required: false
        test_modules: ["auth_detector"]
      
      # Endpoints generales (para Data Exposure)
      - path: "/api/v1/users"
        methods: ["GET"]
        auth_required: true
        test_modules: ["data_exposure_detector"]

  # Puedes agregar más targets
  - name: "Production API (disabled for safety)"
    base_url: "https://api.produccion.com"
    enabled: false  # Deshabilitado por seguridad
    users: []
    endpoints: []
